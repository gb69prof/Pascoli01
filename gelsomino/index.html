<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Il gelsomino notturno – Pascoli (percorso)</title>
  <meta name="description" content="Percorso interattivo su 'Il gelsomino notturno' di Giovanni Pascoli: testo, simboli, immagini, collegamenti." />

  <style>
    :root{
      --bg0:#070b12;
      --bg1:#0b1220;
      --card:#0f1a2c;
      --ink:#e9eef7;
      --muted:#b7c3d6;
      --line:rgba(255,255,255,.12);
      --gold:#caa24d;
      --amber:#d9b46d;
      --accent:#8bb4ff;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius:18px;
      --radius2:26px;
      --max:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--ink);
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(202,162,77,.16), transparent 60%),
        radial-gradient(900px 600px at 80% 30%, rgba(139,180,255,.14), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }
    a{color:inherit}
    .wrap{max-width:var(--max); margin:0 auto; padding:26px 18px 60px;}
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:10px 12px;
      border:1px solid var(--line); border-radius:999px;
      background: rgba(10,16,28,.55);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 40px rgba(0,0,0,.25);
    }
    .brand{display:flex; align-items:center; gap:10px; min-width:0}
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--gold);
      box-shadow: 0 0 0 6px rgba(202,162,77,.14);
      flex:0 0 auto;
    }
    .brand b{letter-spacing:.6px}
    .brand span{color:var(--muted); font-size:13px; display:block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .btn{
      appearance:none; border:1px solid var(--line); cursor:pointer;
      padding:10px 14px; border-radius:999px;
      background: rgba(255,255,255,.06);
      color:var(--ink);
      font-weight:600;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      text-decoration:none;
      display:inline-flex; align-items:center; gap:8px;
    }
    .btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.22)}
    .btn:active{transform: translateY(0)}
    header.hero{
      margin-top:18px;
      padding:26px 18px;
      border-radius: var(--radius2);
      border:1px solid var(--line);
      background:
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    header.hero:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(700px 250px at 30% 0%, rgba(202,162,77,.18), transparent 60%),
        radial-gradient(700px 250px at 70% 15%, rgba(139,180,255,.16), transparent 60%);
      pointer-events:none;
    }
    .hero-inner{position:relative; display:grid; grid-template-columns: 1.25fr .75fr; gap:18px; align-items:start}
    @media (max-width: 880px){ .hero-inner{grid-template-columns:1fr; } }
    h1{
      margin:0 0 10px; font-size: clamp(26px, 4vw, 44px);
      letter-spacing:.3px;
    }
    .subtitle{margin:0; color:var(--muted); line-height:1.55; font-size: 15.5px}
    .pillrow{margin-top:14px; display:flex; flex-wrap:wrap; gap:10px}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      font-size:13px;
    }
    .pill i{
      width:8px; height:8px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 0 6px rgba(139,180,255,.12);
      display:inline-block;
    }

    /* Pascoli cover -> HeyGen */
    .mediaCard{
      border-radius: var(--radius);
      border:1px solid var(--line);
      background: rgba(0,0,0,.25);
      overflow:hidden;
      box-shadow: 0 14px 45px rgba(0,0,0,.35);
      align-self:stretch;
    }
    .coverWrap{position:relative}
    .coverImg{
      width:100%; height:auto; display:block;
      cursor:pointer;
      transition: transform .25s ease, filter .25s ease;
    }
    .coverWrap:hover .coverImg{transform: scale(1.02); filter: brightness(1.06)}
    .playBadge{
      position:absolute; inset:auto 14px 14px auto;
      display:flex; align-items:center; gap:10px;
      padding:10px 12px; border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(10,16,28,.70);
      backdrop-filter: blur(10px);
      font-weight:700;
      letter-spacing:.2px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      pointer-events:none;
    }
    .tri{
      width:0;height:0;
      border-left: 10px solid var(--gold);
      border-top: 7px solid transparent;
      border-bottom: 7px solid transparent;
    }
    .mediaBody{padding:12px 14px 14px}
    .mediaBody p{margin:0; color: var(--muted); font-size:13.5px; line-height:1.55}
    .videoBox{
      display:none;
      position:relative;
      padding-top:56.25%;
      background:#000;
    }
    .videoBox iframe{
      position:absolute; inset:0;
      width:100%; height:100%;
      border:0;
    }
    .backBtn{
      display:none;
      margin-top:12px;
      width:100%;
      justify-content:center;
    }

    /* Sections */
    .section{
      margin-top:18px;
      padding:18px;
      border-radius: var(--radius2);
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      box-shadow: 0 10px 45px rgba(0,0,0,.25);
    }
    .section h2{
      margin:0 0 12px;
      font-size: 22px;
      letter-spacing:.2px;
    }
    .section p{margin:0 0 10px; color: var(--muted); line-height:1.65}
    .grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:14px;
      margin-top:12px;
    }
    @media (max-width: 880px){ .grid{grid-template-columns:1fr} }

    .card{
      border-radius: var(--radius);
      border:1px solid var(--line);
      background: rgba(0,0,0,.22);
      overflow:hidden;
      box-shadow: 0 10px 35px rgba(0,0,0,.25);
    }
    .cardHead{
      padding:12px 14px;
      display:flex; align-items:baseline; justify-content:space-between;
      gap:12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
    }
    .cardHead b{letter-spacing:.2px}
    .tag{
      font-size:12px; color: var(--muted);
      border:1px solid rgba(255,255,255,.14);
      padding:6px 10px; border-radius:999px;
      background: rgba(0,0,0,.12);
      white-space:nowrap;
    }
    .imgBtn{
      padding:0;
      border:0;
      background:transparent;
      width:100%;
      cursor:pointer;
    }
    img.figure{
      width:100%;
      height:auto;
      display:block;
      background: rgba(255,255,255,.02);
    }
    .cardFoot{
      padding:12px 14px;
      color: var(--muted);
      font-size:13.5px;
      line-height:1.55;
    }

    /* Lightbox */
    .lightbox{
      position:fixed; inset:0;
      background: rgba(0,0,0,.74);
      display:none;
      align-items:center;
      justify-content:center;
      padding:24px;
      z-index:9999;
    }
    .lightbox.open{display:flex}
    .lbPanel{
      width:min(1100px, 100%);
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(10,16,28,.92);
      box-shadow: 0 25px 90px rgba(0,0,0,.55);
      overflow:hidden;
    }
    .lbTop{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px;
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,.10);
      color: var(--muted);
    }
    .lbTop b{color:var(--ink)}
    .lbClose{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color: var(--ink);
      border-radius: 999px;
      padding:8px 12px;
      cursor:pointer;
      font-weight:700;
    }
    .lbImg{
      width:100%;
      height:auto;
      display:block;
      background:#000;
    }

    footer{
      margin-top:18px;
      color: rgba(233,238,247,.75);
      text-align:center;
      font-size:13px;
      padding:14px 10px;
    }
    .warn{
      margin-top:10px;
      padding:10px 12px;
      border-radius: 14px;
      border:1px dashed rgba(202,162,77,.35);
      background: rgba(202,162,77,.08);
      color: rgba(233,238,247,.85);
      font-size:13px;
      line-height:1.5;
    }
    .warn code{color:var(--amber)}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <span class="dot" aria-hidden="true"></span>
        <div style="min-width:0">
          <b>Pascoli – Poesie</b>
          <span>Il gelsomino notturno • percorso per immagini e simboli</span>
        </div>
      </div>
      <a class="btn" href="../index.html" title="Torna all'indice principale">← Indice</a>
    </div>

    <header class="hero">
      <div class="hero-inner">
        <div>
          <h1>Il gelsomino notturno</h1>
          <p class="subtitle">
            Qui il testo non “spiega”: <b>suggerisce</b>.
            La poesia lavora come una stanza buia: senti odori, fruscii, luci lontane,
            e capisci dopo.
          </p>

          <div class="pillrow" aria-label="parole-chiave">
            <span class="pill"><i></i> nido e intimità</span>
            <span class="pill"><i></i> eros trattenuto</span>
            <span class="pill"><i></i> natura come simbolo</span>
            <span class="pill"><i></i> notte / alba</span>
          </div>

          <div class="warn">
            Se qualche immagine non si vede su GitHub Pages, controlla che sia in
            <code>gelsomino/assets/</code> e che il nome coincida <b>identico</b> (maiuscole/minuscole incluse).
          </div>
        </div>

        <aside class="mediaCard" aria-label="Pascoli video">
          <div class="coverWrap" id="coverWrap">
            <img class="coverImg" id="pascoliCover" src="./assets/pascoli_video.png"
                 alt="Ritratto di Pascoli – clicca per avviare il video (HeyGen)" />
            <div class="playBadge"><span class="tri" aria-hidden="true"></span> Video (HeyGen)</div>
          </div>

          <div class="videoBox" id="videoBox" aria-label="video HeyGen">
            <iframe id="heygenFrame"
              src="https://app.heygen.com/embedded-player/e5c1a51af56e43589b800ebb00cb1507"
              title="HeyGen video player"
              allow="encrypted-media; fullscreen;"
              allowfullscreen></iframe>
          </div>

          <div class="mediaBody">
            <p>
              L'immagine è un interruttore: clicca per passare dal ritratto al video.
              Il video resta dentro la pagina, senza aprire nuove schede.
            </p>
            <button class="btn backBtn" id="backBtn" type="button">↩ Torna all'immagine</button>
          </div>
        </aside>
      </div>
    </header>

    <section class="section">
      <h2>Testo e realtà, strofa per strofa</h2>
      <p>
        Per ogni strofa trovi due immagini: <b>Versi</b> (il testo) e <b>Realtà</b> (che cosa sta “succedendo”).
        Clicca sulle immagini per aprirle grandi.
      </p>

      <!-- Strofa 1 -->
      <div class="grid">
        <article class="card">
          <div class="cardHead"><b>Strofa 1</b><span class="tag">Versi</span></div>
          <button class="imgBtn" data-title="Strofa 1 – versi" data-src="./assets/strofa1-versi.png" type="button">
            <img class="figure" src="./assets/strofa1-versi.png" alt="Strofa 1 – versi" />
          </button>
          <div class="cardFoot">Apertura notturna: suoni minimi, odori, “casa” come nucleo nascosto.</div>
        </article>
        <article class="card">
          <div class="cardHead"><b>Strofa 1</b><span class="tag">Realtà</span></div>
          <button class="imgBtn" data-title="Strofa 1 – realtà" data-src="./assets/strofa1-realta.png" type="button">
            <img class="figure" src="./assets/strofa1-realta.png" alt="Strofa 1 – realtà" />
          </button>
          <div class="cardFoot">Il quadro “oggettivo” che la poesia trasforma: un mondo domestico e naturale.</div>
        </article>

        <!-- Strofa 2 -->
        <article class="card">
          <div class="cardHead"><b>Strofa 2</b><span class="tag">Versi</span></div>
          <button class="imgBtn" data-title="Strofa 2 – versi" data-src="./assets/strofa2-versi.png" type="button">
            <img class="figure" src="./assets/strofa2-versi.png" alt="Strofa 2 – versi" />
          </button>
          <div class="cardFoot">I simboli piccoli (nido, ciglia, silenzio) diventano grammatica emotiva.</div>
        </article>
        <article class="card">
          <div class="cardHead"><b>Strofa 2</b><span class="tag">Realtà</span></div>
          <button class="imgBtn" data-title="Strofa 2 – realtà" data-src="./assets/strofa2-realta.png" type="button">
            <img class="figure" src="./assets/strofa2-realta.png" alt="Strofa 2 – realtà" />
          </button>
          <div class="cardFoot">Il “nido” è protezione e desiderio di riparo: non una cosa, un bisogno.</div>
        </article>

        <!-- Strofa 3 -->
        <article class="card">
          <div class="cardHead"><b>Strofa 3</b><span class="tag">Versi</span></div>
          <button class="imgBtn" data-title="Strofa 3 – versi" data-src="./assets/strofa3-versi.png" type="button">
            <img class="figure" src="./assets/strofa3-versi.png" alt="Strofa 3 – versi" />
          </button>
          <div class="cardFoot">La notte “parla” con dettagli: un linguaggio di sensazioni e allusioni.</div>
        </article>
        <article class="card">
          <div class="cardHead"><b>Strofa 3</b><span class="tag">Realtà</span></div>
          <button class="imgBtn" data-title="Strofa 3 – realtà" data-src="./assets/strofa3-realta.png" type="button">
            <img class="figure" src="./assets/strofa3-realta.png" alt="Strofa 3 – realtà" />
          </button>
          <div class="cardFoot">Due piani: fuori la quiete, dentro l’intimità che cresce (e si nasconde).</div>
        </article>

        <!-- Strofa 4 -->
        <article class="card">
          <div class="cardHead"><b>Strofa 4</b><span class="tag">Versi</span></div>
          <button class="imgBtn" data-title="Strofa 4 – versi" data-src="./assets/strofa4-versi.png" type="button">
            <img class="figure" src="./assets/strofa4-versi.png" alt="Strofa 4 – versi" />
          </button>
          <div class="cardFoot">Il lessico crea un’atmosfera: ciò che non si dice si sente di più.</div>
        </article>
        <article class="card">
          <div class="cardHead"><b>Strofa 4</b><span class="tag">Realtà</span></div>
          <button class="imgBtn" data-title="Strofa 4 – realtà" data-src="./assets/strofa4-realta.png" type="button">
            <img class="figure" src="./assets/strofa4-realta.png" alt="Strofa 4 – realtà" />
          </button>
          <div class="cardFoot">Eros trattenuto: la poesia non lo mostra, lo fa filtrare.</div>
        </article>

        <!-- Strofa 5 -->
        <article class="card">
          <div class="cardHead"><b>Strofa 5</b><span class="tag">Versi</span></div>
          <button class="imgBtn" data-title="Strofa 5 – versi" data-src="./assets/strofa5-versi.png" type="button">
            <img class="figure" src="./assets/strofa5-versi.png" alt="Strofa 5 – versi" />
          </button>
          <div class="cardFoot">Il simbolo lavora per contrasti: luce/ombra, casa/mondo, voce/silenzio.</div>
        </article>
        <article class="card">
          <div class="cardHead"><b>Strofa 5</b><span class="tag">Realtà</span></div>
          <button class="imgBtn" data-title="Strofa 5 – realtà" data-src="./assets/strofa5-realta.png" type="button">
            <img class="figure" src="./assets/strofa5-realta.png" alt="Strofa 5 – realtà" />
          </button>
          <div class="cardFoot">Il “reale” è una scena semplice. Il significato, invece, è un’interiorità.</div>
        </article>

        <!-- Strofa 6 -->
        <article class="card">
          <div class="cardHead"><b>Strofa 6</b><span class="tag">Versi</span></div>
          <button class="imgBtn" data-title="Strofa 6 – versi" data-src="./assets/strofa6-versi.png" type="button">
            <img class="figure" src="./assets/strofa6-versi.png" alt="Strofa 6 – versi" />
          </button>
          <div class="cardFoot">Chiusura: l’alba come soglia. Un segreto “molle” che resta dentro.</div>
        </article>
        <article class="card">
          <div class="cardHead"><b>Strofa 6</b><span class="tag">Realtà</span></div>
          <button class="imgBtn" data-title="Strofa 6 – realtà" data-src="./assets/strofa6-realta.png" type="button">
            <img class="figure" src="./assets/strofa6-realta.png" alt="Strofa 6 – realtà" />
          </button>
          <div class="cardFoot">Nascita, unione, casa: non “spiegati”, ma lasciati in sospensione.</div>
        </article>
      </div>
    </section>

    <footer>
      Il gelsomino notturno – percorso interattivo (Libro.0 / Pascoli).<br/>
      Suggerimento tecnico: se aggiungi nuove immagini, mettile in <b>gelsomino/assets/</b> e richiama con <b>./assets/...</b>.
    </footer>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Immagine ingrandita">
    <div class="lbPanel">
      <div class="lbTop">
        <b id="lbTitle">Immagine</b>
        <button class="lbClose" id="lbClose" type="button">Chiudi ✕</button>
      </div>
      <img class="lbImg" id="lbImg" alt="" />
    </div>
  </div>

  <script>
    // Cover -> HeyGen
    (function(){
      const cover = document.getElementById('coverWrap');
      const img = document.getElementById('pascoliCover');
      const videoBox = document.getElementById('videoBox');
      const backBtn = document.getElementById('backBtn');
      const iframe = document.getElementById('heygenFrame');

      function showVideo(){
        cover.style.display = 'none';
        videoBox.style.display = 'block';
        backBtn.style.display = 'inline-flex';
      }
      function showCover(){
        // "reset" del video (ferma riproduzione)
        const src = iframe.getAttribute('src');
        iframe.setAttribute('src', src);
        videoBox.style.display = 'none';
        backBtn.style.display = 'none';
        cover.style.display = 'block';
      }

      img.addEventListener('click', showVideo);
      backBtn.addEventListener('click', showCover);
    })();

    // Lightbox per immagini
    (function(){
      const lb = document.getElementById('lightbox');
      const lbImg = document.getElementById('lbImg');
      const lbTitle = document.getElementById('lbTitle');
      const closeBtn = document.getElementById('lbClose');

      function openLB(src, title){
        lbTitle.textContent = title || 'Immagine';
        lbImg.src = src;
        lbImg.alt = title || '';
        lb.classList.add('open');
        document.body.style.overflow = 'hidden';
      }
      function closeLB(){
        lb.classList.remove('open');
        lbImg.src = '';
        document.body.style.overflow = '';
      }

      document.querySelectorAll('.imgBtn').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          openLB(btn.dataset.src, btn.dataset.title);
        });
      });

      closeBtn.addEventListener('click', closeLB);
      lb.addEventListener('click', (e)=>{ if(e.target === lb) closeLB(); });
      document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && lb.classList.contains('open')) closeLB(); });
    })();
  </script>
</body>
</html>
